<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Document</title>
</head>
<body>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <canvas id="myChart" width="400" height="400"></canvas> 
 <script>
    Chart.pluginService.register({//  w   w  w  .  d  e m  o  2  s   .   c o  m 
      afterUpdate: function (chart) {
         if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {
            var arc = chart.getDatasetMeta(0).data[chart.config.options.elements.arc.roundedCornersFor];
            arc.round = {
               x: (chart.chartArea.left + chart.chartArea.right) / 2,
               y: (chart.chartArea.top + chart.chartArea.bottom) / 2,
               radius: (chart.outerRadius + chart.innerRadius) / 2,
               thickness: (chart.outerRadius - chart.innerRadius) / 2 - 1,
               backgroundColor: arc._model.backgroundColor
            }
         }
      },
      afterDraw: function (chart) {
         if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {
            var ctx = chart.chart.ctx;
            var arc = chart.getDatasetMeta(0).data[chart.config.options.elements.arc.roundedCornersFor];
            var startAngle = Math.PI / 2 - arc._view.startAngle;
            var endAngle = Math.PI / 2 - arc._view.endAngle;
            ctx.save();
            ctx.translate(arc.round.x, arc.round.y);
            console.log(arc.round.startAngle)
            ctx.fillStyle = arc.round.backgroundColor;
            ctx.beginPath();
            ctx.arc(arc.round.radius * Math.sin(startAngle), arc.round.radius * Math.cos(startAngle), arc.round.thickness, 0, 2 * Math.PI);
            ctx.arc(arc.round.radius * Math.sin(endAngle), arc.round.radius * Math.cos(endAngle), arc.round.thickness, 0, 2 * Math.PI);
            ctx.closePath();
            ctx.fill();
            ctx.restore();
         }
      },
   });
   // write text plugin
   Chart.pluginService.register({
      afterUpdate: function (chart) {
         if (chart.config.options.elements.center) {
            var helpers = Chart.helpers;
            var centerConfig = chart.config.options.elements.center;
            var globalConfig = Chart.defaults.global;
            var ctx = chart.chart.ctx;
            var fontStyle = helpers.getValueOrDefault(centerConfig.fontStyle, globalConfig.defaultFontStyle);
            var fontFamily = helpers.getValueOrDefault(centerConfig.fontFamily, globalConfig.defaultFontFamily);
            if (centerConfig.fontSize)
               var fontSize = centerConfig.fontSize;
               // figure out the best font size, if one is not specified
            else {
               ctx.save();
               var fontSize = helpers.getValueOrDefault(centerConfig.minFontSize, 1);
               var maxFontSize = helpers.getValueOrDefault(centerConfig.maxFontSize, 256);
               var maxText = helpers.getValueOrDefault(centerConfig.maxText, centerConfig.text);
               do {
                  ctx.font = helpers.fontString(fontSize, fontStyle, fontFamily);
                  var textWidth = ctx.measureText(maxText).width;
                  // check if it fits, is within configured limits and that we are not simply toggling back and forth
                  if (textWidth < chart.innerRadius * 2 && fontSize < maxFontSize)
                     fontSize += 1;
                  else {
                     // reverse last step
                     fontSize -= 1;
                     break;
                  }
               } while (true)
               ctx.restore();
            }
            // save properties
            chart.center = {
               font: helpers.fontString(fontSize, fontStyle, fontFamily),
               fillStyle: helpers.getValueOrDefault(centerConfig.fontColor, globalConfig.defaultFontColor)
            };
         }
      },
      afterDraw: function (chart) {
         if (chart.center) {
            var centerConfig = chart.config.options.elements.center;
            var ctx = chart.chart.ctx;
            ctx.save();
            ctx.font = chart.center.font;
            ctx.fillStyle = chart.center.fillStyle;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            var centerX = (chart.chartArea.left + chart.chartArea.right) / 2;
            var centerY = (chart.chartArea.top + chart.chartArea.bottom) / 2;
            ctx.fillText(centerConfig.text, centerX, centerY);
            ctx.restore();
         }
      },
   })
   var ctx = document.getElementById('myChart').getContext('2d');
        var gradient = ctx.createLinearGradient(0, 0, 0, 400)
    gradient.addColorStop(0, '#7385f8')
    gradient.addColorStop(1, '#803ce2')
        const data={
          labels:
          ['1','2'],
      datasets:[{
          label: '',
          data: [75,25],
          backgroundColor: [gradient, '#373555'],
          borderWidth: 0.1
      }]
  }
  
  // const centerText={
  //     id:'centerText',
  //     afterDatasetsDraw(chart, args, options){
  //         const {ctx, chartArea:{left, right, top, bottom, width, height}}=chart;
  //         ctx.save();
  //     }
  // }
  
  const config={
      type: 'doughnut',
      data: data,
      options: {
          cutoutPercentage:90,
          legend:{
            display: false
          },
          elements: {
            arc: {
               roundedCornersFor: 0
            },
            center: {
               // the longest text that could appear in the center
               maxText: '100%',
               text: '67%',
               fontColor: '#FF6684',
               fontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
               fontStyle: 'normal',
               // fontSize: 12,
               // if a fontSize is NOT specified, we will scale (within the below limits) maxText to take up the maximum space in the center
               // if these are not specified either, we default to 1 and 256
               minFontSize: 1,
               maxFontSize: 256,
            }
         }
        }
      //plugins: [centerText]
  }
  const myChart = new Chart(ctx,config);
</script>
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-1-circle" viewBox="0 0 16 16">
    <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383h1.312Z"/>
</svg>
<div id="div">Cl</div> -->
<img src="img/Yarik.jpg" alt="">
</body>
</html>